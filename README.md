# ğŸ¢ Há»† THá»NG QUáº¢N LÃ NHÃ‚N Sá»° SIÃŠU THá»Š MINI

## ğŸ“‹ MÃ´ táº£ dá»± Ã¡n

Há»‡ thá»‘ng quáº£n lÃ½ nhÃ¢n sá»± toÃ n diá»‡n cho siÃªu thá»‹ mini, Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng .NET Framework 4.7.2 WinForms vá»›i SQL Server. Há»‡ thá»‘ng cung cáº¥p Ä‘áº§y Ä‘á»§ cÃ¡c chá»©c nÄƒng quáº£n lÃ½ tá»« nhÃ¢n viÃªn, ca lÃ m viá»‡c, cháº¥m cÃ´ng Ä‘áº¿n tÃ­nh lÆ°Æ¡ng vÃ  bÃ¡o cÃ¡o vá»›i giao diá»‡n hiá»‡n Ä‘áº¡i vÃ  báº£o máº­t cao.

## ğŸ¯ TÃ­nh nÄƒng chÃ­nh

### ğŸ‘¥ **Quáº£n lÃ½ nhÃ¢n viÃªn**
- âœ… ThÃªm, sá»­a, xÃ³a thÃ´ng tin nhÃ¢n viÃªn
- âœ… Táº¡o tÃ i khoáº£n Ä‘Äƒng nháº­p tá»± Ä‘á»™ng
- âœ… PhÃ¢n quyá»n theo vai trÃ² (HR, Quáº£n lÃ½, Káº¿ toÃ¡n, NhÃ¢n viÃªn)
- âœ… Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n vÃ  cÃ´ng viá»‡c

### â° **Quáº£n lÃ½ ca lÃ m viá»‡c**
- âœ… Äá»‹nh nghÄ©a ca lÃ m viá»‡c vá»›i giá» báº¯t Ä‘áº§u/káº¿t thÃºc
- âœ… Thiáº¿t láº­p há»‡ sá»‘ ca (ca Ä‘Ãªm, ca lá»…)
- âœ… KÃ­ch hoáº¡t/vÃ´ hiá»‡u hÃ³a ca lÃ m viá»‡c
- âœ… MÃ´ táº£ chi tiáº¿t cho tá»«ng ca

### ğŸ“… **Lá»‹ch phÃ¢n ca**
- âœ… PhÃ¢n ca cho nhÃ¢n viÃªn theo ngÃ y/tuáº§n/thÃ¡ng
- âœ… Xem lá»‹ch lÃ m viá»‡c cÃ¡ nhÃ¢n
- âœ… KhÃ³a/má»Ÿ lá»‹ch phÃ¢n ca
- âœ… Ghi chÃº cho tá»«ng ca lÃ m viá»‡c

### â±ï¸ **Cháº¥m cÃ´ng**
- âœ… Ghi nháº­n giá» vÃ o/ra lÃ m viá»‡c
- âœ… Tá»± Ä‘á»™ng tÃ­nh toÃ¡n giá» cÃ´ng, Ä‘i trá»…, vá» sá»›m
- âœ… KhÃ³a cÃ´ng theo ká»³ (thÃ¡ng)
- âœ… Xem bÃ¡o cÃ¡o cháº¥m cÃ´ng chi tiáº¿t
- âœ… TÃ­ch há»£p vá»›i lá»‹ch phÃ¢n ca

### ğŸ“ **Quáº£n lÃ½ Ä‘Æ¡n tá»«**
- âœ… ÄÆ¡n xin nghá»‰ phÃ©p/nghá»‰ viá»‡c
- âœ… ÄÆ¡n xin lÃ m thÃªm giá» (OT)
- âœ… Quy trÃ¬nh duyá»‡t Ä‘Æ¡n tá»«
- âœ… ThÃ´ng bÃ¡o tráº¡ng thÃ¡i Ä‘Æ¡n tá»«
- âœ… Duyá»‡t hÃ ng loáº¡t (HR)

### ğŸ’° **TÃ­nh lÆ°Æ¡ng**
- âœ… TÃ­nh lÆ°Æ¡ng tá»± Ä‘á»™ng theo cÃ´ng thá»©c
- âœ… TÃ­ch há»£p giá» cÃ´ng vÃ  giá» OT
- âœ… Quáº£n lÃ½ phá»¥ cáº¥p, kháº¥u trá»«
- âœ… TÃ­nh thuáº¿ vÃ  báº£o hiá»ƒm
- âœ… KhÃ³a/má»Ÿ báº£ng lÆ°Æ¡ng theo ká»³

### ğŸ§¾ **Phiáº¿u lÆ°Æ¡ng**
- âœ… Xem phiáº¿u lÆ°Æ¡ng cÃ¡ nhÃ¢n
- âœ… In phiáº¿u lÆ°Æ¡ng Ä‘á»‹nh dáº¡ng chuáº©n
- âœ… Chi tiáº¿t cÃ¡c khoáº£n thu/chi
- âœ… Lá»‹ch sá»­ lÆ°Æ¡ng theo thÃ¡ng

### ğŸ“Š **BÃ¡o cÃ¡o**
- âœ… **BÃ¡o cÃ¡o nhÃ¢n sá»±**: Tá»•ng quan, cháº¥m cÃ´ng, Ä‘Æ¡n tá»«
- âœ… **BÃ¡o cÃ¡o lÆ°Æ¡ng**: Theo thÃ¡ng, nÄƒm, so sÃ¡nh
- âœ… Thá»‘ng kÃª trá»±c quan vá»›i biá»ƒu Ä‘á»“
- âœ… Xuáº¥t bÃ¡o cÃ¡o Excel (placeholder)

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### **Frontend**
- .NET Framework 4.7.2
- Windows Forms (WinForms)
- Guna.UI2.WinForms (Modern UI Components)

### **Backend**
- ADO.NET cho káº¿t ná»‘i database
- SQL Server 2019+
- Stored Procedures & Functions
- Views & Triggers

### **Database**
- SQL Server vá»›i schema Ä‘áº§y Ä‘á»§
- Row-Level Security (RLS)
- ACID Transactions
- Trigger-based calculations

### **Security**
- Role-based Access Control (RBAC)
- Password hashing (Base64 demo)
- Session management
- Data protection triggers

## ğŸ—„ï¸ Cáº¥u trÃºc database

### **Báº£ng chÃ­nh**
```sql
- NguoiDung: Quáº£n lÃ½ tÃ i khoáº£n Ä‘Äƒng nháº­p
- NhanVien: ThÃ´ng tin nhÃ¢n viÃªn
- CaLam: Äá»‹nh nghÄ©a ca lÃ m viá»‡c
- LichPhanCa: Lá»‹ch phÃ¢n ca nhÃ¢n viÃªn
- ChamCong: Dá»¯ liá»‡u cháº¥m cÃ´ng
- DonTu: ÄÆ¡n tá»« nghá»‰ phÃ©p/OT
- BangLuong: Báº£ng lÆ°Æ¡ng nhÃ¢n viÃªn
```

### **Views (6 views)**
```sql
- vw_CongThang: Tá»•ng há»£p cÃ´ng theo thÃ¡ng
- vw_BangLuong_ChiTiet: Báº£ng lÆ°Æ¡ng chi tiáº¿t
- vw_NhanVien_Full: ThÃ´ng tin nhÃ¢n viÃªn Ä‘áº§y Ä‘á»§
- vw_DonTu_ChiTiet: ÄÆ¡n tá»« chi tiáº¿t
- vw_BaoCaoNhanSu: BÃ¡o cÃ¡o nhÃ¢n sá»±
- vw_Lich_ChamCong_Ngay: Lá»‹ch vÃ  cháº¥m cÃ´ng
```

### **Functions**
```sql
- fn_KhungCa: Láº¥y khung giá» ca lÃ m viá»‡c
- fn_SoPhutDuong: TÃ­nh sá»‘ phÃºt dÆ°Æ¡ng
- fn_rls_NhanVien: Row-Level Security
```

### **Stored Procedures (35+ SPs)**
```sql
# Quáº£n lÃ½ nhÃ¢n viÃªn
- sp_ThemMoiNhanVien, sp_NhanVien_Delete, sp_NhanVien_UpdateTrangThai
- sp_NhanVien_GetThongTinCaNhan, sp_NhanVien_UpdateThongTinCaNhan

# PhÃ¢n ca vÃ  cháº¥m cÃ´ng
- sp_LichPhanCa_Insert/Update/Delete, sp_LichPhanCa_CloneWeek
- sp_CheckIn, sp_CheckOut, sp_KhoaCongThang

# ÄÆ¡n tá»« vÃ  lÆ°Æ¡ng
- sp_DuyetDonTu, sp_ChayBangLuong, sp_DongBangLuong

# Báº£o máº­t
- sp_NguoiDung_DoiMatKhau
```

## ğŸ“ Cáº¥u trÃºc project

```
VuToanThang_23110329/
â”œâ”€â”€ Data/
â”‚   â”œâ”€â”€ SqlHelper.cs          # Database helper
â”‚   â””â”€â”€ CurrentUser.cs        # Session management
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ NguoiDung.cs         # User model
â”‚   â”œâ”€â”€ NhanVien.cs          # Employee model
â”‚   â”œâ”€â”€ CaLam.cs             # Shift model
â”‚   â”œâ”€â”€ LichPhanCa.cs        # Schedule model
â”‚   â”œâ”€â”€ ChamCong.cs          # Attendance model
â”‚   â”œâ”€â”€ DonTu.cs             # Request model
â”‚   â”œâ”€â”€ BangLuong.cs         # Payroll model
â”‚   â””â”€â”€ ViewModels.cs        # View models
â”œâ”€â”€ Repositories/
â”‚   â”œâ”€â”€ AuthRepository.cs     # Authentication
â”‚   â”œâ”€â”€ NhanVienRepository.cs # Employee operations
â”‚   â”œâ”€â”€ CaLamRepository.cs    # Shift operations
â”‚   â”œâ”€â”€ LichPhanCaRepository.cs # Schedule operations
â”‚   â”œâ”€â”€ ChamCongRepository.cs # Attendance operations
â”‚   â”œâ”€â”€ DonTuRepository.cs    # Request operations
â”‚   â””â”€â”€ BangLuongRepository.cs # Payroll operations
â”œâ”€â”€ Forms/
â”‚   â”œâ”€â”€ LoginForm.cs         # Login interface
â”‚   â”œâ”€â”€ MainForm.cs          # Main dashboard
â”‚   â”œâ”€â”€ NhanVienForm.cs      # Employee management
â”‚   â”œâ”€â”€ CaLamForm.cs         # Shift management
â”‚   â”œâ”€â”€ LichPhanCaForm.cs    # Schedule management
â”‚   â”œâ”€â”€ ChamCongForm.cs      # Attendance management
â”‚   â”œâ”€â”€ DonTuNVForm.cs       # Employee requests
â”‚   â”œâ”€â”€ DonTuSMForm.cs       # Manager approval
â”‚   â”œâ”€â”€ DonTuHRForm.cs       # HR management
â”‚   â”œâ”€â”€ TinhLuongForm.cs     # Payroll calculation
â”‚   â”œâ”€â”€ BangLuongForm.cs     # Payroll viewing
â”‚   â”œâ”€â”€ PhieuLuongForm.cs    # Payslip viewing
â”‚   â”œâ”€â”€ BaoCaoNhanSuForm.cs  # HR reports
â”‚   â””â”€â”€ BaoCaoLuongForm.cs   # Payroll reports
â””â”€â”€ App.config               # Configuration
```

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### **YÃªu cáº§u há»‡ thá»‘ng**
- Windows 10/11
- .NET Framework 4.7.2+
- SQL Server 2019+
- Visual Studio 2019+ (Ä‘á»ƒ phÃ¡t triá»ƒn)

### **BÆ°á»›c 1: Chuáº©n bá»‹ Database**
```bash
# Cháº¡y cÃ¡c file SQL theo thá»© tá»±:
1. 01_TaoDatabase.sql        # Táº¡o database vÃ  cÃ¡c báº£ng
2. 02_ChucNang.sql           # Táº¡o views, functions
3. 03_StoredProcedures.sql   # Táº¡o stored procedures cÆ¡ báº£n
4. 04_StoredProcedures_Advanced.sql  # Stored procedures nÃ¢ng cao
5. 05_Security_Triggers.sql  # Triggers vÃ  báº£o máº­t
6. data_mau.sql             # Dá»¯ liá»‡u máº«u (tÃ¹y chá»n)
```

### **BÆ°á»›c 2: Cáº¥u hÃ¬nh káº¿t ná»‘i**
Cáº­p nháº­t connection string trong `App.config`:
```xml
<connectionStrings>
    <add name="HrDb"
         connectionString="Data Source=localhost;Initial Catalog=QLNhanSuSieuThiMini;User ID=sa;Password=1234;TrustServerCertificate=True"
         providerName="System.Data.SqlClient" />
</connectionStrings>
```

### **BÆ°á»›c 3: Build vÃ  cháº¡y**
```bash
# Má»Ÿ solution trong Visual Studio
# Build solution (Ctrl+Shift+B)
# Cháº¡y á»©ng dá»¥ng (F5)
```

### **BÆ°á»›c 4: ÄÄƒng nháº­p**
TÃ i khoáº£n máº·c Ä‘á»‹nh (sau khi cháº¡y data_mau.sql):
- **GiÃ¡m Ä‘á»‘c**: `giamdoc` / `123`
- **HR Manager**: `hr_manager` / `123`
- **Káº¿ toÃ¡n**: `ketoan01` / `123`
- **NhÃ¢n viÃªn**: `nv_banhang_01` / `123`

(Táº¥t cáº£ tÃ i khoáº£n Ä‘á»u cÃ³ máº­t kháº©u: `123`)

## ğŸ‘¥ PhÃ¢n quyá»n há»‡ thá»‘ng

### ğŸ”‘ **HR (NhÃ¢n sá»±)**
- âœ… ToÃ n quyá»n quáº£n lÃ½ nhÃ¢n viÃªn
- âœ… Quáº£n lÃ½ ca lÃ m viá»‡c
- âœ… PhÃ¢n ca cho nhÃ¢n viÃªn
- âœ… Duyá»‡t Ä‘Æ¡n tá»«
- âœ… Xem táº¥t cáº£ bÃ¡o cÃ¡o

### ğŸ‘” **Quáº£n lÃ½ (Store Manager)**
- âœ… Xem thÃ´ng tin nhÃ¢n viÃªn
- âœ… Quáº£n lÃ½ lá»‹ch phÃ¢n ca
- âœ… Cháº¥m cÃ´ng vÃ  khÃ³a cÃ´ng
- âœ… Duyá»‡t Ä‘Æ¡n tá»«
- âœ… BÃ¡o cÃ¡o nhÃ¢n sá»±

### ğŸ’¼ **Káº¿ toÃ¡n (Accountant)**
- âœ… TÃ­nh lÆ°Æ¡ng nhÃ¢n viÃªn
- âœ… Quáº£n lÃ½ báº£ng lÆ°Æ¡ng
- âœ… KhÃ³a/má»Ÿ ká»³ lÆ°Æ¡ng
- âœ… BÃ¡o cÃ¡o lÆ°Æ¡ng
- âœ… Xuáº¥t phiáº¿u lÆ°Æ¡ng

### ğŸ‘¤ **NhÃ¢n viÃªn (Employee)**
- âœ… Xem lá»‹ch lÃ m viá»‡c cÃ¡ nhÃ¢n
- âœ… Xem cháº¥m cÃ´ng cÃ¡ nhÃ¢n
- âœ… Gá»­i Ä‘Æ¡n tá»« nghá»‰ phÃ©p/OT
- âœ… Xem phiáº¿u lÆ°Æ¡ng cÃ¡ nhÃ¢n

## ğŸ¨ Giao diá»‡n

### **Äáº·c Ä‘iá»ƒm UI/UX**
- ğŸŒ™ Dark theme hiá»‡n Ä‘áº¡i
- ğŸ¨ MÃ u chá»§ Ä‘áº¡o: #7C4DFF (Purple)
- ğŸ“± Layout responsive
- ğŸ” TÃ¬m kiáº¿m vÃ  lá»c dá»¯ liá»‡u
- ğŸ“Š Thá»‘ng kÃª trá»±c quan
- ğŸ–¨ï¸ In áº¥n vÃ  xuáº¥t bÃ¡o cÃ¡o

### **Navigation**
- Menu sidebar theo vai trÃ²
- Breadcrumb navigation
- Quick access buttons
- Status indicators

## ğŸ”§ TÃ­nh nÄƒng nÃ¢ng cao

### **Báº£o máº­t**
- Password hashing
- Session timeout
- Role-based permissions
- Data encryption (planned)

### **Hiá»‡u suáº¥t**
- Connection pooling
- Stored procedure optimization
- Lazy loading
- Caching (planned)

### **TÃ­ch há»£p**
- Export to Excel (placeholder)
- Print functionality
- Email notifications (planned)
- API endpoints (planned)

## ğŸ› Troubleshooting

### **Lá»—i káº¿t ná»‘i database**
```
Kiá»ƒm tra:
1. SQL Server Ä‘ang cháº¡y
2. Connection string Ä‘Ãºng
3. Database Ä‘Ã£ Ä‘Æ°á»£c táº¡o
4. User cÃ³ quyá»n truy cáº­p
```

### **Lá»—i Ä‘Äƒng nháº­p**
```
Kiá»ƒm tra:
1. TÃ i khoáº£n Ä‘Ã£ Ä‘Æ°á»£c táº¡o trong database
2. Máº­t kháº©u Ä‘Ãºng Ä‘á»‹nh dáº¡ng
3. Vai trÃ² Ä‘Æ°á»£c gÃ¡n Ä‘Ãºng
```

### **Lá»—i phÃ¢n quyá»n**
```
Kiá»ƒm tra:
1. User role trong database
2. Permissions Ä‘Æ°á»£c cáº¥p Ä‘Ãºng
3. Session context Ä‘Æ°á»£c set
```

## ğŸ“ Há»— trá»£

### **LiÃªn há»‡**
- **TÃ¡c giáº£**: VÅ© ToÃ n Tháº¯ng
- **MSSV**: 23110329
- **Email**: [email@example.com]
- **GitHub**: [github.com/username]

### **BÃ¡o lá»—i**
Vui lÃ²ng táº¡o issue trÃªn GitHub vá»›i thÃ´ng tin:
- MÃ´ táº£ lá»—i chi tiáº¿t
- CÃ¡c bÆ°á»›c tÃ¡i hiá»‡n
- Screenshot (náº¿u cÃ³)
- Log files

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  nghiÃªn cá»©u.

---

## ğŸ¯ Roadmap

### **Version 2.0 (Planned)**
- [ ] Web-based interface
- [ ] Mobile app
- [ ] Advanced reporting
- [ ] Integration APIs
- [ ] Cloud deployment
- [ ] Real-time notifications

### **Version 1.1 (Current)**
- [x] Complete WinForms interface
- [x] Full CRUD operations
- [x] Role-based security
- [x] Comprehensive reporting
- [x] Database optimization

---

## ğŸ“¦ Files quan trá»ng

### **SQL Scripts (Cháº¡y theo thá»© tá»±)**
1. `01_TaoDatabase.sql` - Táº¡o database, báº£ng, rÃ ng buá»™c
2. `02_ChucNang.sql` - Views vÃ  functions
3. `03_StoredProcedures.sql` - 35+ stored procedures (bao gá»“m SPs cho thÃ´ng tin cÃ¡ nhÃ¢n)
4. `04_StoredProcedures_Advanced.sql` - SPs nÃ¢ng cao (lá»‹ch phÃ¢n ca, cháº¥m cÃ´ng)
5. `05_Security_Triggers.sql` - Triggers báº£o máº­t
6. `data_mau.sql` - **Dá»¯ liá»‡u máº«u tá»•ng há»£p Ä‘áº§y Ä‘á»§** (9 nhÃ¢n viÃªn, lá»‹ch tá»« 7/2025-nay)

### **Documentation**
- `README.md` - HÆ°á»›ng dáº«n tá»•ng quan
- `SETUP_PACKAGES.md` - HÆ°á»›ng dáº«n cÃ i Ä‘áº·t packages
- `BAO_CAO_KIEM_TRA_FORMS.md` - BÃ¡o cÃ¡o kiá»ƒm tra vÃ  cáº£i thiá»‡n forms
- `HUONG_DAN_LICH_PHANCA.md` - HÆ°á»›ng dáº«n sá»­ dá»¥ng module lá»‹ch phÃ¢n ca

### **Application**
- `VuToanThang_23110329.sln` - Solution Visual Studio
- `VuToanThang_23110329/` - MÃ£ nguá»“n á»©ng dá»¥ng WinForms

---

*Cáº­p nháº­t láº§n cuá»‘i: 30/09/2025*  
*PhiÃªn báº£n: 1.1 - Production Ready*
